/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Temporary config for memory-limited testing
----------------------------------------------------------------------------------------
*/

process {
    resourceLimits = [
        cpus: 4,
        memory: '7.GB',
        time: '1.h'
    ]
    
    // Reduce memory for specific processes
    withName: '.*:GUNZIP_FASTQ.*' {
        memory = '4.GB'
    }
    
    withName: '.*:PIGZ_UNCOMPRESS.*' {
        memory = '4.GB'
    }
    
    withName: '.*:QUANTIFY_SCRNA_ISOQUANT:SPLIT_FASTA' {
        memory = '4.GB'
    }
    
    withName: '.*:QUANTIFY_SCRNA_ISOQUANT:SAMTOOLS_FAIDX_SPLIT' {
        memory = '2.GB'
    }
    
    withLabel:process_low {
        memory = '4.GB'
    }
    
    withLabel:process_medium {
        memory = '6.GB'
    }
    
    withLabel:process_high {
        memory = '6.GB'
    }
    
    // Reduce memory for FASTQC
    withName: '.*:FASTQC' {
        memory = '2.GB'
    }
    
    // Reduce memory for other QC tools
    withName: '.*:NANOPLOT' {
        memory = '2.GB'
    }
    
    withName: '.*:TOULLIGQC' {
        memory = '2.GB'
    }
}
